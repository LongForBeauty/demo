<!DOCTYPE html>
{% extends 'base.html' %}

{% block body_block %}
<div class="jumbotron" id="jumbotron">
  {% if selected %}
    <h2> Topic: {{ topic }}</h2>
  {% else %}
    <h2> Select a topic and we will display the rest.</h2>
  {% endif %}
</div>
<div class="container" id="mindmap">
  {% if selected %}
  <table class="table table-responsive table-hover table-striped">
    <thead>
      <tr class="bg-warning">
        <th>Valued information</th>
        <th>Your comment</th>
      </tr>
    </thead>
    <tbody>
      {% for item in selections %}
      <tr>
        <td>{{ item.selection }}</td>
        <td>{{ item.user_comment }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <div class="container-fluid">
    <form method="get" enctype="multipart/form-data">
      {% for item in topic %}
        <input type="radio" name="topic" value="{{item}}">{{item}}<br>
      {% endfor %}
      <input type="submit" class="btn" value="submit">
    </form>
  </div>
  {% endif %}
</div>
{% endblock %}

<!--{% block script_block %}
 <script>
  var topicNode = document.getElementsByClassName('btn');
    for (var i=0; i <= topicNode.length; i++ ) {
      topicNode[i].addEventListener('click', function(e){
        $.get('{% url 'mindmap:Mindmap' %}', {topic:e.target.innerHTML}, function(){
          $('#jumbotron').replaceWith("mindmaps.html #jumbotron");
          $('#mindmap').replaceWith("mindmaps.html #mindmap");
        }).fail(function() {
            alert( "error" );
          });
      });
    }
  </script>
{% endblock %}-->
